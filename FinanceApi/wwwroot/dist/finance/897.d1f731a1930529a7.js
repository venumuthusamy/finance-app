"use strict";(self.webpackChunkfinance=self.webpackChunkfinance||[]).push([[897],{8897:(w,v,c)=>{c.r(v),c.d(v,{TaxServicesModule:()=>_});var h=c(6895),a=c(433),T=c(529),u=c(4333),C=c(3144),A=c(5839),U=c(5593),y=c(1740),N=c(4401),q=c(2688),g=c(2137),f=c(3887),d=c(9965),m=c(805),e=c(8256),Z=c(9136),S=c(8889);function b(n,i){if(1&n){const l=e.EpF();e.TgZ(0,"i",19),e.NdJ("click",function(){e.CHM(l);const t=e.oxw();return e.KtG(t.clearField("searchServicesName"))}),e.qZA()}}function L(n,i){if(1&n){const l=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",20)(12,"i",21),e.NdJ("click",function(){const s=e.CHM(l).$implicit,o=e.oxw();return e.KtG(o.editServices(s))}),e.qZA(),e.TgZ(13,"i",22),e.NdJ("click",function(){const s=e.CHM(l).$implicit,o=e.oxw();return e.KtG(o.confirmdeleteServices(s))}),e.qZA()()()}if(2&n){const l=i.$implicit,r=i.index,t=e.oxw();e.xp6(2),e.Oqu((t.page-1)*t.itemsPerPage+r+1),e.xp6(2),e.Oqu(l.name),e.xp6(2),e.Oqu(l.charge),e.xp6(2),e.Oqu(l.description),e.xp6(2),e.Oqu(l.tax)}}const F=function(n,i){return{itemsPerPage:n,currentPage:i}};let J=(()=>{const i=class{constructor(r,t,s,o,p){this.formBuilder=r,this.router=t,this.taxServices=s,this.toast=o,this.confirmationService=p,this.servicesList=[],this.page=1,this.itemsPerPage=10,this.searchServicesName=""}ngOnInit(){this.headervalue="Services",this.taxServices.getServices().subscribe(r=>{this.servicesList=r})}createServices(){this.router.navigateByUrl("masters/service/create")}editServices(r){this.router.navigateByUrl(`masters/service/edit/${r.id}`)}deleteServices(r){this.taxServices.deleteServices(r.id).subscribe(t=>{this.toast.showSuccess("Service deleted successfully"),this.ngOnInit()})}filterServices(){this.taxServices.getServices().subscribe(r=>{this.filteredList=r,this.searchServicesName&&(this.filteredList=this.filteredList.filter(t=>!this.searchServicesName||t.name.toLowerCase().includes(this.searchServicesName.toLowerCase()))),this.servicesList=this.filteredList,this.page=1})}clearField(r){"searchServicesName"===r&&(this.searchServicesName=""),this.filterServices()}confirmdeleteServices(r){this.confirmationService.confirm({header:"Confirm Delete",message:"Are you sure you want to delete this item?",acceptLabel:"Delete",rejectLabel:"Cancel",rejectIcon:"pi pi-times",accept:()=>{this.deleteServices(r)},reject:()=>{}})}};let n=i;return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(d.F0),e.Y36(Z.f),e.Y36(S.k),e.Y36(m.YP))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-service-list"]],features:[e._Bn([m.YP,m.ez])],decls:41,vars:10,consts:[[1,"page-header",2,"color","#2199e8"],[1,"page-content"],[2,"display","flex","flex-direction","row"],[1,"top-action-bar"],[1,"searchtop-container"],[1,"fa","fa-search","search-icon"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["class","fa fa-times clear-icon",3,"click",4,"ngIf"],[1,"searchtop-container",2,"margin-left","5px"],[1,"fa","fa-plus","icon",2,"color","#00a65a"],["type","text","placeholder","New Services","readonly","",2,"width","150px","cursor","pointer",3,"click"],[1,"searchtop-container",2,"margin-left","2px"],[1,"fa","fa-sync","icon",2,"color","#01a1ff"],["type","text","readonly","",2,"width","20px","cursor","pointer"],[1,"fa","fa-columns","icon",2,"color","#01a1ff"],[2,"max-width","100%","overflow-x","auto"],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],[3,"pageChange"],[1,"fa","fa-times","clear-icon",3,"click"],[2,"padding-left","20px"],[1,"fas","fa-pen",2,"color","#05a743","margin-right","15px","cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"color","red","cursor","pointer",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"h5",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"i",5),e.TgZ(7,"input",6),e.NdJ("ngModelChange",function(p){return s.searchServicesName=p})("input",function(){return s.filterServices()}),e.qZA(),e.YNc(8,b,1,0,"i",7),e.qZA(),e.TgZ(9,"div",8),e._UZ(10,"i",9),e.TgZ(11,"input",10),e.NdJ("click",function(){return s.createServices()}),e.qZA()(),e.TgZ(12,"div",11),e._UZ(13,"i",12)(14,"input",13),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"i",14)(17,"input",13),e.qZA()()(),e.TgZ(18,"div",15)(19,"table")(20,"thead")(21,"tr")(22,"th"),e._uU(23,"ID"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Service Name"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Charge"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Description"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Tax"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Action"),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,L,14,5,"tr",16),e.ALo(36,"paginate"),e.qZA()()(),e.TgZ(37,"div",17)(38,"pagination-controls",18),e.NdJ("pageChange",function(p){return s.page=p}),e.qZA()()(),e._UZ(39,"p-confirmDialog")(40,"p-toast")),2&t&&(e.xp6(1),e.Oqu(s.headervalue),e.xp6(6),e.Q6J("ngModel",s.searchServicesName),e.xp6(1),e.Q6J("ngIf",s.searchServicesName),e.xp6(27),e.Q6J("ngForOf",e.xi3(36,4,s.servicesList,e.WLB(7,F,s.itemsPerPage,s.page))))},dependencies:[h.sg,h.O5,a.Fj,a.JJ,a.On,u.LS,g.Q,f.FN,u._s]}),n})(),x=(()=>{const i=class{constructor(r,t,s,o,p){this.fb=r,this.router=t,this.toast=s,this.route=o,this.taxServices=p,this.displayDialog=!1,this.dialogMode="add",this.editIndex=null,this.isEditMode=!1}ngOnInit(){this.route.paramMap.subscribe(r=>{this.serviceId=parseInt(r.get("id")),this.serviceId?(this.isEditMode=!0,this.taxServices.getServicesById(this.serviceId).subscribe(t=>{this.addForm=this.fb.group({name:[t.name,a.kI.required],charge:[t.charge,a.kI.required],tax:[t.tax,a.kI.required],description:[t.description]})})):this.isEditMode=!1}),this.addForm=this.fb.group({name:[null,a.kI.required],charge:[null,a.kI.required],tax:[null,a.kI.required],description:[null]})}onSubmit(){const r=this.addForm.getRawValue();this.addForm.invalid?this.toast.showWarning("Please Fill Mandatory Field"):this.isEditMode?this.taxServices.updateServices(Number(this.serviceId),r).subscribe(t=>{this.toast.showSuccess("Service updated successfully"),this.router.navigateByUrl("masters/service")},t=>{this.toast.showApiError(t)}):this.taxServices.insertServices(r).subscribe(t=>{this.toast.showSuccess("Service saved successfully"),this.router.navigateByUrl("masters/service")},t=>{this.toast.showApiError(t)})}backButton(){this.router.navigateByUrl("masters/service")}cancel(){this.router.navigateByUrl("masters/service")}};let n=i;return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(d.F0),e.Y36(S.k),e.Y36(d.gz),e.Y36(Z.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-service-create"]],decls:39,vars:2,consts:[[1,"page-header",2,"color","#2199e8"],[1,"fas","fa-arrow-left",2,"padding","0px 25px","cursor","pointer",3,"click"],[1,"page-content-create"],[1,"container",3,"formGroup"],[1,"container","mt-5"],[1,"row"],[1,"col-sm-6"],[1,"form-group","d-flex","align-items-center","gap-2"],[1,"label",2,"white-space","nowrap","min-width","130px"],[2,"color","red"],["type","text","formControlName","name",1,"form-control","small-placeholder"],["type","text","formControlName","charge",1,"form-control","small-placeholder"],[1,"row","mt-3"],["type","text","formControlName","description",1,"form-control","small-placeholder"],["type","text","formControlName","tax",1,"form-control","small-placeholder"],[1,"text-end","mt-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"h5",0)(1,"i",1),e.NdJ("click",function(){return s.backButton()}),e.qZA(),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Service Name "),e.TgZ(11,"span",9),e._uU(12,"*"),e.qZA()(),e._UZ(13,"input",10),e.qZA()(),e.TgZ(14,"div",6)(15,"div",7)(16,"label",8),e._uU(17,"Charge"),e.TgZ(18,"span",9),e._uU(19,"*"),e.qZA()(),e._UZ(20,"input",11),e.qZA()()(),e.TgZ(21,"div",12)(22,"div",6)(23,"div",7)(24,"label",8),e._uU(25,"Description"),e.qZA(),e._UZ(26,"input",13),e.qZA()(),e.TgZ(27,"div",6)(28,"div",7)(29,"label",8),e._uU(30,"Tax"),e.TgZ(31,"span",9),e._uU(32,"*"),e.qZA()(),e._UZ(33,"input",14),e.qZA()()(),e.TgZ(34,"div",15)(35,"button",16),e.NdJ("click",function(){return s.cancel()}),e._uU(36,"Cancel"),e.qZA(),e.TgZ(37,"button",17),e.NdJ("click",function(){return s.onSubmit()}),e._uU(38,"Save"),e.qZA()()()()()),2&t&&(e.xp6(2),e.hij(" ",s.isEditMode?"Edit Services":"New Services","\n"),e.xp6(2),e.Q6J("formGroup",s.addForm))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),n})();const I=[{path:"",component:J},{path:"create",component:x},{path:"edit/:id",component:x}];let k=(()=>{const i=class{};let n=i;return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(I),d.Bz]}),n})(),_=(()=>{const i=class{};let n=i;return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,k,a.UX,a.u5,T.JF,u.JX,C.U$,A.S,U.hJ,y.j,N.kW,q._8,g.D,f.EV]}),n})()}}]);