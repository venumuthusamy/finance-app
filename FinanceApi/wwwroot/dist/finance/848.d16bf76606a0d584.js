"use strict";(self.webpackChunkfinance=self.webpackChunkfinance||[]).push([[848],{5848:(q,f,r)=>{r.r(f),r.d(f,{DeductionModule:()=>Y});var l=r(6895),c=r(433),g=r(529),h=r(4333),U=r(3144),y=r(5839),x=r(5593),A=r(1740),N=r(4401),b=r(2688),v=r(2137),D=r(3887),p=r(9965),m=r(805),t=r(8256),F=r(828);let Z=(()=>{const e=class{constructor(i){this.http=i,this.baseUrl=F.N.apiUrl+"/deduction/"}getDeduction(){return this.http.get(this.baseUrl+"getAll")}getDeductionById(i){return this.http.get(this.baseUrl+"get/"+i)}insertDeduction(i){return this.http.post(`${this.baseUrl}insert`,i)}updateDeduction(i,n){return this.http.put(this.baseUrl+"update/"+i,n)}deleteDeduction(i){return this.http.delete(`${this.baseUrl}delete/`+i)}};let s=e;return e.\u0275fac=function(n){return new(n||e)(t.LFG(g.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();var T=r(8889);function L(s,e){if(1&s){const d=t.EpF();t.TgZ(0,"i",19),t.NdJ("click",function(){t.CHM(d);const n=t.oxw();return t.KtG(n.clearField("searchDeductionName"))}),t.qZA()}}function J(s,e){if(1&s){const d=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",20)(8,"i",21),t.NdJ("click",function(){const o=t.CHM(d).$implicit,a=t.oxw();return t.KtG(a.editDeduction(o))}),t.qZA(),t.TgZ(9,"i",22),t.NdJ("click",function(){const o=t.CHM(d).$implicit,a=t.oxw();return t.KtG(a.confirmdeleteDeduction(o))}),t.qZA()()()}if(2&s){const d=e.$implicit,i=e.index,n=t.oxw();t.xp6(2),t.Oqu((n.page-1)*n.itemsPerPage+i+1),t.xp6(2),t.Oqu(d.name),t.xp6(2),t.Oqu(d.description)}}const S=function(s,e){return{itemsPerPage:s,currentPage:e}};let w=(()=>{const e=class{constructor(i,n,o,a,u){this.formBuilder=i,this.router=n,this.deductionService=o,this.toast=a,this.confirmationService=u,this.deductionList=[],this.page=1,this.itemsPerPage=10,this.searchDeductionName=""}ngOnInit(){this.headervalue="Deductions",this.deductionService.getDeduction().subscribe(i=>{this.deductionList=i})}createDeduction(){this.router.navigateByUrl("masters/deductions/create")}editDeduction(i){this.router.navigateByUrl(`masters/deductions/edit/${i.id}`)}deleteDeduction(i){this.deductionService.deleteDeduction(i.id).subscribe(n=>{this.toast.showSuccess("Deduction Details deleted successfully"),this.ngOnInit()})}filterDeduction(){this.deductionService.getDeduction().subscribe(i=>{this.filteredList=i,this.searchDeductionName&&(this.filteredList=this.filteredList.filter(n=>!this.searchDeductionName||n.name.toLowerCase().includes(this.searchDeductionName.toLowerCase()))),this.deductionList=this.filteredList,this.page=1})}clearField(i){"searchDeductionName"===i&&(this.searchDeductionName=""),this.filterDeduction()}confirmdeleteDeduction(i){this.confirmationService.confirm({header:"Confirm Delete",message:"Are you sure you want to delete this item?",acceptLabel:"Delete",rejectLabel:"Cancel",rejectIcon:"pi pi-times",accept:()=>{this.deleteDeduction(i)},reject:()=>{}})}};let s=e;return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.qu),t.Y36(p.F0),t.Y36(Z),t.Y36(T.k),t.Y36(m.YP))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-deductions-list"]],features:[t._Bn([m.YP,m.ez])],decls:37,vars:10,consts:[[1,"page-header",2,"color","#2199e8"],[1,"page-content"],[2,"display","flex","flex-direction","row"],[1,"top-action-bar"],[1,"searchtop-container"],[1,"fa","fa-search","search-icon"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["class","fa fa-times clear-icon",3,"click",4,"ngIf"],[1,"searchtop-container",2,"margin-left","5px"],[1,"fa","fa-plus","icon",2,"color","#00a65a"],["type","text","placeholder","New Deductions","readonly","",2,"width","180px","cursor","pointer",3,"click"],[1,"searchtop-container",2,"margin-left","2px"],[1,"fa","fa-sync","icon",2,"color","#01a1ff"],["type","text","readonly","",2,"width","20px","cursor","pointer"],[1,"fa","fa-columns","icon",2,"color","#01a1ff"],[2,"max-width","100%","overflow-x","auto"],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],[3,"pageChange"],[1,"fa","fa-times","clear-icon",3,"click"],[2,"padding-left","20px"],[1,"fas","fa-pen",2,"color","#05a743","margin-right","15px","cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"color","red","cursor","pointer",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"h5",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._UZ(6,"i",5),t.TgZ(7,"input",6),t.NdJ("ngModelChange",function(u){return o.searchDeductionName=u})("input",function(){return o.filterDeduction()}),t.qZA(),t.YNc(8,L,1,0,"i",7),t.qZA(),t.TgZ(9,"div",8),t._UZ(10,"i",9),t.TgZ(11,"input",10),t.NdJ("click",function(){return o.createDeduction()}),t.qZA()(),t.TgZ(12,"div",11),t._UZ(13,"i",12)(14,"input",13),t.qZA(),t.TgZ(15,"div",11),t._UZ(16,"i",14)(17,"input",13),t.qZA()()(),t.TgZ(18,"div",15)(19,"table")(20,"thead")(21,"tr")(22,"th"),t._uU(23,"ID"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Deductions Name"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Description"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Action"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,J,10,3,"tr",16),t.ALo(32,"paginate"),t.qZA()()(),t.TgZ(33,"div",17)(34,"pagination-controls",18),t.NdJ("pageChange",function(u){return o.page=u}),t.qZA()()(),t._UZ(35,"p-confirmDialog")(36,"p-toast")),2&n&&(t.xp6(1),t.Oqu(o.headervalue),t.xp6(6),t.Q6J("ngModel",o.searchDeductionName),t.xp6(1),t.Q6J("ngIf",o.searchDeductionName),t.xp6(23),t.Q6J("ngForOf",t.xi3(32,4,o.deductionList,t.WLB(7,S,o.itemsPerPage,o.page))))},dependencies:[l.sg,l.O5,c.Fj,c.JJ,c.On,h.LS,v.Q,D.FN,h._s]}),s})(),C=(()=>{const e=class{constructor(i,n,o,a,u,k){this.fb=i,this.router=n,this.deductionService=o,this.datePipe=a,this.toast=u,this.route=k,this.displayDialog=!1,this.dialogMode="add",this.editIndex=null,this.isEditMode=!1}ngOnInit(){this.route.paramMap.subscribe(i=>{this.deductionId=parseInt(i.get("id")),this.deductionId?(this.isEditMode=!0,this.deductionService.getDeductionById(this.deductionId).subscribe(n=>{this.addForm=this.fb.group({name:[n.name,c.kI.required],description:[n.description]})})):this.isEditMode=!1}),this.addForm=this.fb.group({name:[null,c.kI.required],description:[null]})}onSubmit(){const i=this.addForm.getRawValue();this.addForm.invalid?this.toast.showWarning("Please Fill Mandatory Field"):this.isEditMode?this.deductionService.updateDeduction(Number(this.deductionId),i).subscribe(n=>{this.toast.showSuccess("Deduction updated successfully"),this.router.navigateByUrl("masters/deductions")},n=>{this.toast.showApiError(n)}):this.deductionService.insertDeduction(i).subscribe(n=>{this.toast.showSuccess("Deduction saved successfully"),this.router.navigateByUrl("masters/deductions")},n=>{this.toast.showApiError(n)})}backButton(){this.router.navigateByUrl("masters/deductions")}cancel(){this.router.navigateByUrl("masters/deductions")}};let s=e;return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.qu),t.Y36(p.F0),t.Y36(Z),t.Y36(l.uU),t.Y36(T.k),t.Y36(p.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-deductions-create"]],features:[t._Bn([l.uU])],decls:25,vars:2,consts:[[1,"page-header",2,"color","#2199e8"],[1,"fas","fa-arrow-left",2,"padding","0px 25px","cursor","pointer",3,"click"],[1,"page-content-create"],[1,"container",3,"formGroup"],[1,"container","mt-5"],[1,"row"],[1,"col-sm-6"],[1,"form-group","d-flex","align-items-center","gap-2"],[1,"label",2,"white-space","nowrap","min-width","130px"],[2,"color","red"],["type","text","formControlName","name",1,"form-control","small-placeholder"],[1,"row","mt-3"],[1,"col-sm-12"],["type","text","formControlName","description",1,"form-control","small-placeholder"],[1,"text-end","mt-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"h5",0)(1,"i",1),t.NdJ("click",function(){return o.backButton()}),t.qZA(),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),t._uU(10,"Deduction Name "),t.TgZ(11,"span",9),t._uU(12,"*"),t.qZA()(),t._UZ(13,"input",10),t.qZA()()(),t.TgZ(14,"div",11)(15,"div",12)(16,"div",7)(17,"label",8),t._uU(18,"Description"),t.qZA(),t._UZ(19,"textarea",13),t.qZA()()(),t.TgZ(20,"div",14)(21,"button",15),t.NdJ("click",function(){return o.cancel()}),t._uU(22,"Cancel"),t.qZA(),t.TgZ(23,"button",16),t.NdJ("click",function(){return o.onSubmit()}),t._uU(24,"Save"),t.qZA()()()()()),2&n&&(t.xp6(2),t.hij(" ",o.isEditMode?"Edit Deductions":"New Deductions","\n"),t.xp6(2),t.Q6J("formGroup",o.addForm))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u]}),s})();const B=[{path:"",component:w},{path:"create",component:C},{path:"edit/:id",component:C}];let I=(()=>{const e=class{};let s=e;return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forChild(B),p.Bz]}),s})(),Y=(()=>{const e=class{};let s=e;return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.ez,I,c.UX,c.u5,g.JF,h.JX,U.U$,y.S,x.hJ,A.j,N.kW,b._8,v.D,D.EV]}),s})()}}]);