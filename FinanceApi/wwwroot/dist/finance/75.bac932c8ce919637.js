"use strict";(self.webpackChunkfinance=self.webpackChunkfinance||[]).push([[75],{2075:(J,g,a)=>{a.r(g),a.d(g,{ContraVoucherModule:()=>k});var d=a(6895),p=a(4333),c=a(433),f=a(529),A=a(3144),y=a(5839),b=a(5593),q=a(1740),Z=a(4401),C=a(2688),v=a(2137),V=a(3887),h=a(9965),m=a(805),t=a(8256),x=a(2340);let T=(()=>{const e=class{constructor(o){this.http=o,this.url=x.N.apiUrl,this.baseUrl=this.url+"/contravoucher/"}getContraVoucher(){return this.http.get(this.baseUrl+"getAll")}getContraVoucherById(o){return this.http.get(this.baseUrl+"get/"+o)}insertContraVoucher(o){return this.http.post(`${this.baseUrl}insert`,o)}updateContraVoucher(o,r){return this.http.put(this.baseUrl+"update/"+o,r)}deleteContraVoucher(o){return this.http.delete(`${this.baseUrl}delete/`+o)}};let n=e;return e.\u0275fac=function(r){return new(r||e)(t.LFG(f.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})();var U=a(8889);function N(n,e){if(1&n){const u=t.EpF();t.TgZ(0,"i",19),t.NdJ("click",function(){t.CHM(u);const r=t.oxw();return t.KtG(r.clearField("contraVoucherName"))}),t.qZA()}}function L(n,e){if(1&n){const u=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA(),t.TgZ(19,"td",20)(20,"i",21),t.NdJ("click",function(){const i=t.CHM(u).$implicit,s=t.oxw();return t.KtG(s.editContraVoucher(i))}),t.qZA(),t.TgZ(21,"i",22),t.NdJ("click",function(){const i=t.CHM(u).$implicit,s=t.oxw();return t.KtG(s.confirmdeleteContraVoucher(i))}),t.qZA()()()}if(2&n){const u=e.$implicit,o=e.index,r=t.oxw();t.xp6(2),t.Oqu((r.page-1)*r.itemsPerPage+o+1),t.xp6(2),t.Oqu(u.name),t.xp6(2),t.Oqu(u.name),t.xp6(2),t.Oqu(u.name),t.xp6(2),t.Oqu(u.name),t.xp6(2),t.Oqu(u.name),t.xp6(2),t.Oqu(u.name),t.xp6(2),t.Oqu(u.name),t.xp6(2),t.Oqu(u.name)}}const w=function(n,e){return{itemsPerPage:n,currentPage:e}},I=[{path:"",component:(()=>{const e=class{constructor(o,r,i,s,l){this.formBuilder=o,this.router=r,this.contraVoucherService=i,this.toast=s,this.confirmationService=l,this.contraVoucherList=[],this.page=1,this.itemsPerPage=10,this.contraVoucherName=""}ngOnInit(){this.headervalue="Contra Voucher",this.contraVoucherService.getContraVoucher().subscribe(o=>{this.contraVoucherList=o})}createContraVoucher(){this.router.navigateByUrl("financial/contravoucher/create")}editContraVoucher(o){this.router.navigateByUrl(`financial/contravoucher/edit/${o.id}`)}deleteContraVoucher(o){this.contraVoucherService.deleteContraVoucher(o.id).subscribe(r=>{this.toast.showSuccess("Contra Voucher Details deleted successfully"),this.ngOnInit()})}filterContraVoucher(){this.contraVoucherService.getContraVoucher().subscribe(o=>{this.filteredList=o,this.contraVoucherName&&(this.filteredList=this.filteredList.filter(r=>!this.contraVoucherName||r.name.toLowerCase().includes(this.contraVoucherName.toLowerCase()))),this.contraVoucherList=this.filteredList,this.page=1})}clearField(o){"contraVoucherName"===o&&(this.contraVoucherName=""),this.filterContraVoucher()}confirmdeleteContraVoucher(o){this.confirmationService.confirm({header:"Confirm Delete",message:"Are you sure you want to delete this item?",acceptLabel:"Delete",rejectLabel:"Cancel",rejectIcon:"pi pi-times",accept:()=>{this.deleteContraVoucher(o)},reject:()=>{}})}};let n=e;return e.\u0275fac=function(r){return new(r||e)(t.Y36(c.qu),t.Y36(h.F0),t.Y36(T),t.Y36(U.k),t.Y36(m.YP))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-contra-voucher-list"]],features:[t._Bn([m.YP,m.ez])],decls:49,vars:10,consts:[[1,"page-header",2,"color","#2199e8"],[1,"page-content"],[2,"display","flex","flex-direction","row"],[1,"top-action-bar"],[1,"searchtop-container"],[1,"fa","fa-search","search-icon"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["class","fa fa-times clear-icon",3,"click",4,"ngIf"],[1,"searchtop-container",2,"margin-left","5px"],[1,"fa","fa-plus","icon",2,"color","#00a65a"],["type","text","placeholder","New Contra Voucher","readonly","",2,"width","200px","cursor","pointer",3,"click"],[1,"searchtop-container",2,"margin-left","2px"],[1,"fa","fa-sync","icon",2,"color","#01a1ff"],["type","text","readonly","",2,"width","20px","cursor","pointer"],[1,"fa","fa-columns","icon",2,"color","#01a1ff"],[2,"max-width","100%","overflow-x","auto"],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],[3,"pageChange"],[1,"fa","fa-times","clear-icon",3,"click"],[2,"padding-left","20px"],[1,"fas","fa-pen",2,"color","#05a743","margin-right","15px","cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"color","red","cursor","pointer",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"h5",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._UZ(6,"i",5),t.TgZ(7,"input",6),t.NdJ("ngModelChange",function(l){return i.contraVoucherName=l})("input",function(){return i.filterContraVoucher()}),t.qZA(),t.YNc(8,N,1,0,"i",7),t.qZA(),t.TgZ(9,"div",8),t._UZ(10,"i",9),t.TgZ(11,"input",10),t.NdJ("click",function(){return i.createContraVoucher()}),t.qZA()(),t.TgZ(12,"div",11),t._UZ(13,"i",12)(14,"input",13),t.qZA(),t.TgZ(15,"div",11),t._UZ(16,"i",14)(17,"input",13),t.qZA()()(),t.TgZ(18,"div",15)(19,"table")(20,"thead")(21,"tr")(22,"th"),t._uU(23,"ID"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"V No"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"V Type"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Date"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Coa Head Name"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Coa"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Remark"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Debit"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Credit"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Action"),t.qZA()()(),t.TgZ(42,"tbody"),t.YNc(43,L,22,9,"tr",16),t.ALo(44,"paginate"),t.qZA()()(),t.TgZ(45,"div",17)(46,"pagination-controls",18),t.NdJ("pageChange",function(l){return i.page=l}),t.qZA()()(),t._UZ(47,"p-confirmDialog")(48,"p-toast")),2&r&&(t.xp6(1),t.Oqu(i.headervalue),t.xp6(6),t.Q6J("ngModel",i.contraVoucherName),t.xp6(1),t.Q6J("ngIf",i.contraVoucherName),t.xp6(35),t.Q6J("ngForOf",t.xi3(44,4,i.contraVoucherList,t.WLB(7,w,i.itemsPerPage,i.page))))},dependencies:[d.sg,d.O5,c.Fj,c.JJ,c.On,p.LS,v.Q,V.FN,p._s]}),n})()},{path:"create",component:(()=>{const e=class{constructor(o,r,i,s,l){this.fb=o,this.contraVoucherService=r,this.toast=i,this.route=s,this.router=l,this.displayDialog=!1,this.dialogMode="add",this.editIndex=null,this.isEditMode=!1,this.accountList=[{id:1,name:"Cash In Hand"},{id:2,name:"Cash At Bank"}]}ngOnInit(){this.route.paramMap.subscribe(o=>{this.contraVoucherId=parseInt(o.get("id")),this.contraVoucherId?(this.isEditMode=!0,this.contraVoucherService.getContraVoucherById(this.contraVoucherId).subscribe(r=>{this.addForm=this.fb.group({date:new Date(r.date),accountId:[r.accountId],debit:[r.debit],credit:[r.credit],remark:[r.remark]})})):this.isEditMode=!1}),this.addForm=this.fb.group({date:[new Date,c.kI.required],accountId:[null,c.kI.required],debit:[0,c.kI.required],credit:[0,c.kI.required],remark:[null,c.kI.required]})}onSubmit(){const o=this.addForm.getRawValue();this.addForm.invalid?this.toast.showWarning("Please Fill Mandatory Field"):this.isEditMode?this.contraVoucherService.updateContraVoucher(Number(this.contraVoucherId),o).subscribe(r=>{this.toast.showSuccess("OpeningBalance updated successfully"),this.router.navigateByUrl("financial/contravoucher")},r=>{this.toast.showError(r.error)}):this.contraVoucherService.insertContraVoucher(o).subscribe(r=>{this.toast.showSuccess("OpeningBalance saved successfully"),this.router.navigateByUrl("financial/contravoucher")},r=>{this.toast.showError(r.error)})}backButton(){this.router.navigateByUrl("financial/contravoucher")}cancel(){this.router.navigateByUrl("financial/contravoucher")}};let n=e;return e.\u0275fac=function(r){return new(r||e)(t.Y36(c.qu),t.Y36(T),t.Y36(U.k),t.Y36(h.gz),t.Y36(h.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-contra-voucher-create"]],features:[t._Bn([d.uU])],decls:48,vars:5,consts:[[1,"page-header",2,"color","#2199e8"],[1,"fas","fa-arrow-left",2,"padding","0px 25px","cursor","pointer",3,"click"],[1,"page-content-create"],[1,"container",3,"formGroup"],[1,"container","mt-5"],[1,"row"],[1,"col-sm-12"],[1,"form-group","d-flex","align-items-center","gap-2"],[1,"label",2,"white-space","nowrap","min-width","130px"],[2,"color","red"],[2,"width","320px"],["formControlName","date","dateFormat","dd-mm-yy","placeholder","Choose Date","styleClass","w-100","appendTo","body",3,"showIcon"],[1,"row","mt-3"],[1,"w-100"],["optionLabel","name","optionValue","id","formControlName","accountId","placeholder","Choose your Account","styleClass","w-100","appendTo","body",3,"options","showClear"],[1,"col-sm-6"],["type","number","formControlName","debit",1,"form-control","small-placeholder"],["type","number","formControlName","credit",1,"form-control","small-placeholder"],["type","text","formControlName","remark",1,"form-control","small-placeholder"],[1,"text-end","mt-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"h5",0)(1,"i",1),t.NdJ("click",function(){return i.backButton()}),t.qZA(),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),t._uU(10,"Date "),t.TgZ(11,"span",9),t._uU(12,"*"),t.qZA()(),t.TgZ(13,"div",10),t._UZ(14,"p-calendar",11),t.qZA()()()(),t.TgZ(15,"div",12)(16,"div",6)(17,"div",7)(18,"label",8),t._uU(19,"Account"),t.TgZ(20,"span",9),t._uU(21,"*"),t.qZA()(),t.TgZ(22,"div",13),t._UZ(23,"p-dropdown",14),t.qZA()()()(),t.TgZ(24,"div",12)(25,"div",15)(26,"div",7)(27,"label",8),t._uU(28,"Debit"),t.qZA(),t._UZ(29,"input",16),t.qZA()(),t.TgZ(30,"div",15)(31,"div",7)(32,"label",8),t._uU(33,"Credit"),t.qZA(),t._UZ(34,"input",17),t.qZA()()(),t.TgZ(35,"div",12)(36,"div",6)(37,"div",7)(38,"label",8),t._uU(39,"Remark"),t.TgZ(40,"span",9),t._uU(41,"*"),t.qZA()(),t._UZ(42,"textarea",18),t.qZA()()(),t.TgZ(43,"div",19)(44,"button",20),t.NdJ("click",function(){return i.cancel()}),t._uU(45,"Cancel"),t.qZA(),t.TgZ(46,"button",21),t.NdJ("click",function(){return i.onSubmit()}),t._uU(47,"Save"),t.qZA()()()()()),2&r&&(t.xp6(2),t.hij(" ",i.isEditMode?"Edit Contra Voucher":"New Contra Voucher","\n"),t.xp6(2),t.Q6J("formGroup",i.addForm),t.xp6(10),t.Q6J("showIcon",!0),t.xp6(9),t.Q6J("options",i.accountList)("showClear",!0))},dependencies:[c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,Z.Lt,C.f]}),n})()}];let F=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[h.Bz.forChild(I),h.Bz]}),n})(),k=(()=>{const e=class{};let n=e;return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,F,c.UX,c.u5,f.JF,p.JX,A.U$,y.S,b.hJ,q.j,Z.kW,C._8,v.D,V.EV]}),n})()}}]);