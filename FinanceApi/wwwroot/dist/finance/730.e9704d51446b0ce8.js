"use strict";(self.webpackChunkfinance=self.webpackChunkfinance||[]).push([[730],{8730:(k,u,s)=>{s.r(u),s.d(u,{RegionsModule:()=>I});var d=s(6895),p=s(9965),h=s(805),e=s(8256),a=s(433),f=s(5595),v=s(8889),m=s(4333),Z=s(2137),R=s(3887);function T(r,t){if(1&r){const g=e.EpF();e.TgZ(0,"i",19),e.NdJ("click",function(){e.CHM(g);const i=e.oxw();return e.KtG(i.clearField("searchRegionName"))}),e.qZA()}}function N(r,t){if(1&r){const g=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",20)(6,"i",21),e.NdJ("click",function(){const o=e.CHM(g).$implicit,c=e.oxw();return e.KtG(c.editRegion(o))}),e.qZA(),e.TgZ(7,"i",22),e.NdJ("click",function(){const o=e.CHM(g).$implicit,c=e.oxw();return e.KtG(c.confirmdeleteRegion(o))}),e.qZA()()()}if(2&r){const g=t.$implicit,n=t.index,i=e.oxw();e.xp6(2),e.Oqu((i.page-1)*i.itemsPerPage+n+1),e.xp6(2),e.Oqu(g.regionName)}}const y=function(r,t){return{itemsPerPage:r,currentPage:t}};let x=(()=>{const t=class{constructor(n,i,o,c,l){this.formBuilder=n,this.router=i,this.regionService=o,this.toast=c,this.confirmationService=l,this.regionList=[],this.page=1,this.itemsPerPage=10,this.searchRegionName=""}ngOnInit(){this.headervalue="Regions",this.regionService.getRegion().subscribe(n=>{this.regionList=n})}createRegion(){this.router.navigateByUrl("masters/regions/create")}editRegion(n){this.router.navigateByUrl(`masters/regions/edit/${n.id}`)}deleteRegion(n){this.regionService.deleteRegion(n.id).subscribe(i=>{this.toast.showSuccess("Region Details deleted successfully"),this.ngOnInit()})}filterRegion(){this.regionService.getRegion().subscribe(n=>{this.filteredList=n,this.searchRegionName&&(this.filteredList=this.filteredList.filter(i=>!this.searchRegionName||i.regionName.toLowerCase().includes(this.searchRegionName.toLowerCase()))),this.regionList=this.filteredList,this.page=1})}clearField(n){"searchRegionName"===n&&(this.searchRegionName=""),this.filterRegion()}confirmdeleteRegion(n){this.confirmationService.confirm({header:"Confirm Delete",message:"Are you sure you want to delete this item?",acceptLabel:"Delete",rejectLabel:"Cancel",rejectIcon:"pi pi-times",accept:()=>{this.deleteRegion(n)},reject:()=>{}})}};let r=t;return t.\u0275fac=function(i){return new(i||t)(e.Y36(a.qu),e.Y36(p.F0),e.Y36(f.o),e.Y36(v.k),e.Y36(h.YP))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-regions-list"]],features:[e._Bn([h.YP,h.ez])],decls:35,vars:10,consts:[[1,"page-header",2,"color","#2199e8"],[1,"page-content"],[2,"display","flex","flex-direction","row"],[1,"top-action-bar"],[1,"searchtop-container"],[1,"fa","fa-search","search-icon"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["class","fa fa-times clear-icon",3,"click",4,"ngIf"],[1,"searchtop-container",2,"margin-left","5px"],[1,"fa","fa-plus","icon",2,"color","#00a65a"],["type","text","placeholder","New Region","readonly","",2,"width","150px","cursor","pointer",3,"click"],[1,"searchtop-container",2,"margin-left","2px"],[1,"fa","fa-sync","icon",2,"color","#01a1ff"],["type","text","readonly","",2,"width","20px","cursor","pointer"],[1,"fa","fa-columns","icon",2,"color","#01a1ff"],[2,"max-width","100%","overflow-x","auto"],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],[3,"pageChange"],[1,"fa","fa-times","clear-icon",3,"click"],[2,"padding-left","20px"],[1,"fas","fa-pen",2,"color","#05a743","margin-right","15px","cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"color","red","cursor","pointer",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"h5",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"i",5),e.TgZ(7,"input",6),e.NdJ("ngModelChange",function(l){return o.searchRegionName=l})("input",function(){return o.filterRegion()}),e.qZA(),e.YNc(8,T,1,0,"i",7),e.qZA(),e.TgZ(9,"div",8),e._UZ(10,"i",9),e.TgZ(11,"input",10),e.NdJ("click",function(){return o.createRegion()}),e.qZA()(),e.TgZ(12,"div",11),e._UZ(13,"i",12)(14,"input",13),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"i",14)(17,"input",13),e.qZA()()(),e.TgZ(18,"div",15)(19,"table")(20,"thead")(21,"tr")(22,"th"),e._uU(23,"ID"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Region Name"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Action"),e.qZA()()(),e.TgZ(28,"tbody"),e.YNc(29,N,8,2,"tr",16),e.ALo(30,"paginate"),e.qZA()()(),e.TgZ(31,"div",17)(32,"pagination-controls",18),e.NdJ("pageChange",function(l){return o.page=l}),e.qZA()()(),e._UZ(33,"p-confirmDialog")(34,"p-toast")),2&i&&(e.xp6(1),e.Oqu(o.headervalue),e.xp6(6),e.Q6J("ngModel",o.searchRegionName),e.xp6(1),e.Q6J("ngIf",o.searchRegionName),e.xp6(21),e.Q6J("ngForOf",e.xi3(30,4,o.regionList,e.WLB(7,y,o.itemsPerPage,o.page))))},dependencies:[d.sg,d.O5,a.Fj,a.JJ,a.On,m.LS,Z.Q,R.FN,m._s]}),r})(),C=(()=>{const t=class{constructor(n,i,o,c,l,Y){this.fb=n,this.router=i,this.regionService=o,this.datePipe=c,this.toast=l,this.route=Y,this.displayDialog=!1,this.dialogMode="add",this.editIndex=null,this.isEditMode=!1}ngOnInit(){this.route.paramMap.subscribe(n=>{this.regionId=parseInt(n.get("id")),this.regionId?(this.isEditMode=!0,this.regionService.getRegionById(this.regionId).subscribe(i=>{this.addForm=this.fb.group({regionName:[i.regionName,a.kI.required]})})):this.isEditMode=!1}),this.addForm=this.fb.group({regionName:[null,a.kI.required]})}onSubmit(){const n=this.addForm.getRawValue();this.addForm.invalid?this.toast.showWarning("Please Fill Mandatory Field"):this.isEditMode?this.regionService.updateRegion(Number(this.regionId),n).subscribe(i=>{this.toast.showSuccess("Region updated successfully"),this.router.navigateByUrl("masters/regions")},i=>{this.toast.showApiError(i)}):this.regionService.insertRegion(n).subscribe(i=>{this.toast.showSuccess("Region saved successfully"),this.router.navigateByUrl("masters/regions")},i=>{this.toast.showApiError(i)})}backButton(){this.router.navigateByUrl("masters/regions")}cancel(){this.router.navigateByUrl("masters/regions")}};let r=t;return t.\u0275fac=function(i){return new(i||t)(e.Y36(a.qu),e.Y36(p.F0),e.Y36(f.o),e.Y36(d.uU),e.Y36(v.k),e.Y36(p.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-regions-create"]],features:[e._Bn([d.uU])],decls:19,vars:2,consts:[[1,"page-header",2,"color","#2199e8"],[1,"fas","fa-arrow-left",2,"padding","0px 25px","cursor","pointer",3,"click"],[1,"page-content-create"],[1,"container",3,"formGroup"],[1,"container","mt-5"],[1,"row"],[1,"col-sm-6"],[1,"form-group","d-flex","align-items-center","gap-2"],[1,"label",2,"white-space","nowrap","min-width","130px"],[2,"color","red"],["type","text","formControlName","regionName",1,"form-control","small-placeholder"],[1,"text-end","mt-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"h5",0)(1,"i",1),e.NdJ("click",function(){return o.backButton()}),e.qZA(),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Region Name "),e.TgZ(11,"span",9),e._uU(12,"*"),e.qZA()(),e._UZ(13,"input",10),e.qZA()()(),e.TgZ(14,"div",11)(15,"button",12),e.NdJ("click",function(){return o.cancel()}),e._uU(16,"Cancel"),e.qZA(),e.TgZ(17,"button",13),e.NdJ("click",function(){return o.onSubmit()}),e._uU(18,"Save"),e.qZA()()()()()),2&i&&(e.xp6(2),e.hij(" ",o.isEditMode?"Edit Regions":"New Regions","\n"),e.xp6(2),e.Q6J("formGroup",o.addForm))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),r})();const A=[{path:"",component:x},{path:"create",component:C},{path:"edit/:id",component:C}];let U=(()=>{const t=class{};let r=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(A),p.Bz]}),r})();var L=s(529),F=s(3144),b=s(5839),J=s(5593),S=s(1740),B=s(4401),w=s(2688);let I=(()=>{const t=class{};let r=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,U,a.UX,a.u5,L.JF,m.JX,F.U$,b.S,J.hJ,S.j,B.kW,w._8,Z.D,R.EV]}),r})()}}]);