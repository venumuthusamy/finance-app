"use strict";(self.webpackChunkfinance=self.webpackChunkfinance||[]).push([[153],{1153:(w,g,n)=>{n.r(g),n.d(g,{CustomerGroupsModule:()=>k});var l=n(6895),m=n(9965),d=n(805),t=n(8256),a=n(433),f=n(3695),C=n(8889),h=n(4333),v=n(2137),Z=n(3887);function T(i,r){if(1&i){const c=t.EpF();t.TgZ(0,"i",19),t.NdJ("click",function(){t.CHM(c);const e=t.oxw();return t.KtG(e.clearField("searchCustomerGroupName"))}),t.qZA()}}function x(i,r){if(1&i){const c=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",20)(8,"i",21),t.NdJ("click",function(){const o=t.CHM(c).$implicit,u=t.oxw();return t.KtG(u.editCustomerGroups(o))}),t.qZA(),t.TgZ(9,"i",22),t.NdJ("click",function(){const o=t.CHM(c).$implicit,u=t.oxw();return t.KtG(u.confirmdeleteCustomerGroup(o))}),t.qZA()()()}if(2&i){const c=r.$implicit,s=r.index,e=t.oxw();t.xp6(2),t.Oqu((e.page-1)*e.itemsPerPage+s+1),t.xp6(2),t.Oqu(c.name),t.xp6(2),t.Oqu(c.description)}}const y=function(i,r){return{itemsPerPage:i,currentPage:r}};let A=(()=>{const r=class{constructor(s,e,o,u,p){this.formBuilder=s,this.router=e,this.customerGroupsService=o,this.toast=u,this.confirmationService=p,this.customerGroupsList=[],this.page=1,this.itemsPerPage=10,this.searchCustomerGroupName=""}ngOnInit(){this.headervalue="Customer Groups",this.customerGroupsService.getCustomerGroups().subscribe(s=>{this.customerGroupsList=s})}createcustomerGroups(){this.router.navigateByUrl("masters/customergroups/create")}editCustomerGroups(s){this.router.navigateByUrl(`masters/customergroups/edit/${s.id}`)}deleteCustomerGroups(s){this.customerGroupsService.deleteCustomerGroups(s.id).subscribe(e=>{this.toast.showSuccess("Customer Groups deleted successfully"),this.ngOnInit()})}filterCustomerGroups(){this.customerGroupsService.getCustomerGroups().subscribe(s=>{this.filteredList=s,this.searchCustomerGroupName&&(this.filteredList=this.filteredList.filter(e=>!this.searchCustomerGroupName||e.name.toLowerCase().includes(this.searchCustomerGroupName.toLowerCase()))),this.customerGroupsList=this.filteredList,this.page=1})}clearField(s){"searchCustomerGroupName"===s&&(this.searchCustomerGroupName=""),this.filterCustomerGroups()}confirmdeleteCustomerGroup(s){this.confirmationService.confirm({header:"Confirm Delete",message:"Are you sure you want to delete this item?",acceptLabel:"Delete",rejectLabel:"Cancel",rejectIcon:"pi pi-times",accept:()=>{this.deleteCustomerGroups(s)},reject:()=>{}})}};let i=r;return r.\u0275fac=function(e){return new(e||r)(t.Y36(a.qu),t.Y36(m.F0),t.Y36(f.f),t.Y36(C.k),t.Y36(d.YP))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-customergroups-list"]],features:[t._Bn([d.YP,d.ez])],decls:37,vars:10,consts:[[1,"page-header",2,"color","#2199e8"],[1,"page-content"],[2,"display","flex","flex-direction","row"],[1,"top-action-bar"],[1,"searchtop-container"],[1,"fa","fa-search","search-icon"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["class","fa fa-times clear-icon",3,"click",4,"ngIf"],[1,"searchtop-container",2,"margin-left","5px"],[1,"fa","fa-plus","icon",2,"color","#00a65a"],["type","text","placeholder","New Customer Groups","readonly","",2,"width","200px","cursor","pointer",3,"click"],[1,"searchtop-container",2,"margin-left","2px"],[1,"fa","fa-sync","icon",2,"color","#01a1ff"],["type","text","readonly","",2,"width","20px","cursor","pointer"],[1,"fa","fa-columns","icon",2,"color","#01a1ff"],[2,"max-width","100%","overflow-x","auto"],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],[3,"pageChange"],[1,"fa","fa-times","clear-icon",3,"click"],[2,"padding-left","20px"],[1,"fas","fa-pen",2,"color","#05a743","margin-right","15px","cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"color","red","cursor","pointer",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"h5",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._UZ(6,"i",5),t.TgZ(7,"input",6),t.NdJ("ngModelChange",function(p){return o.searchCustomerGroupName=p})("input",function(){return o.filterCustomerGroups()}),t.qZA(),t.YNc(8,T,1,0,"i",7),t.qZA(),t.TgZ(9,"div",8),t._UZ(10,"i",9),t.TgZ(11,"input",10),t.NdJ("click",function(){return o.createcustomerGroups()}),t.qZA()(),t.TgZ(12,"div",11),t._UZ(13,"i",12)(14,"input",13),t.qZA(),t.TgZ(15,"div",11),t._UZ(16,"i",14)(17,"input",13),t.qZA()()(),t.TgZ(18,"div",15)(19,"table")(20,"thead")(21,"tr")(22,"th"),t._uU(23,"ID"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Name"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Description"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Action"),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,x,10,3,"tr",16),t.ALo(32,"paginate"),t.qZA()()(),t.TgZ(33,"div",17)(34,"pagination-controls",18),t.NdJ("pageChange",function(p){return o.page=p}),t.qZA()()(),t._UZ(35,"p-confirmDialog")(36,"p-toast")),2&e&&(t.xp6(1),t.Oqu(o.headervalue),t.xp6(6),t.Q6J("ngModel",o.searchCustomerGroupName),t.xp6(1),t.Q6J("ngIf",o.searchCustomerGroupName),t.xp6(23),t.Q6J("ngForOf",t.xi3(32,4,o.customerGroupsList,t.WLB(7,y,o.itemsPerPage,o.page))))},dependencies:[l.sg,l.O5,a.Fj,a.JJ,a.On,h.LS,v.Q,Z.FN,h._s]}),i})(),G=(()=>{const r=class{constructor(s,e,o,u,p){this.fb=s,this.router=e,this.toast=o,this.route=u,this.customerGroupsService=p,this.displayDialog=!1,this.dialogMode="add",this.editIndex=null,this.isEditMode=!1}ngOnInit(){this.route.paramMap.subscribe(s=>{this.customerGroupId=parseInt(s.get("id")),this.customerGroupId?(this.isEditMode=!0,this.customerGroupsService.getCustomerGroupsById(this.customerGroupId).subscribe(e=>{this.addForm=this.fb.group({name:[e.name,a.kI.required],description:[e.description]})})):this.isEditMode=!1}),this.addForm=this.fb.group({name:[null,a.kI.required],description:[null,a.kI.required]})}onSubmit(){const s=this.addForm.getRawValue();this.addForm.invalid?this.toast.showWarning("Please Fill Mandatory Field"):this.isEditMode?this.customerGroupsService.updateCustomerGroups(Number(this.customerGroupId),s).subscribe(e=>{this.toast.showSuccess("Customer Groups updated successfully"),this.router.navigateByUrl("masters/customergroups")},e=>{this.toast.showApiError(e)}):this.customerGroupsService.insertCustomerGroups(s).subscribe(e=>{this.toast.showSuccess("Customer Groups saved successfully"),this.router.navigateByUrl("masters/customergroups")},e=>{this.toast.showApiError(e)})}backButton(){this.router.navigateByUrl("masters/customergroups")}cancel(){this.router.navigateByUrl("masters/customergroups")}};let i=r;return r.\u0275fac=function(e){return new(e||r)(t.Y36(a.qu),t.Y36(m.F0),t.Y36(C.k),t.Y36(m.gz),t.Y36(f.f))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-customergroups-create"]],decls:26,vars:2,consts:[[1,"page-header",2,"color","#2199e8"],[1,"fas","fa-arrow-left",2,"padding","0px 25px","cursor","pointer",3,"click"],[1,"page-content-create"],[1,"container",3,"formGroup"],[1,"container","mt-5"],[1,"row"],[1,"col-sm-6"],[1,"form-group","d-flex","align-items-center","gap-2"],[1,"label",2,"white-space","nowrap","min-width","130px"],[2,"color","red"],["type","text","formControlName","name",1,"form-control","small-placeholder"],["type","text","formControlName","description",1,"form-control","small-placeholder"],[1,"text-end","mt-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"h5",0)(1,"i",1),t.NdJ("click",function(){return o.backButton()}),t.qZA(),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),t._uU(10,"Name "),t.TgZ(11,"span",9),t._uU(12,"*"),t.qZA()(),t._UZ(13,"input",10),t.qZA()(),t.TgZ(14,"div",6)(15,"div",7)(16,"label",8),t._uU(17,"Description"),t.TgZ(18,"span",9),t._uU(19,"*"),t.qZA()(),t._UZ(20,"input",11),t.qZA()()(),t.TgZ(21,"div",12)(22,"button",13),t.NdJ("click",function(){return o.cancel()}),t._uU(23,"Cancel"),t.qZA(),t.TgZ(24,"button",14),t.NdJ("click",function(){return o.onSubmit()}),t._uU(25,"Save"),t.qZA()()()()()),2&e&&(t.xp6(2),t.hij(" ",o.isEditMode?"Edit Customer Groups":"New Customer Groups","\n"),t.xp6(2),t.Q6J("formGroup",o.addForm))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),i})();const U=[{path:"",component:A},{path:"create",component:G},{path:"edit/:id",component:G}];let N=(()=>{const r=class{};let i=r;return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[m.Bz.forChild(U),m.Bz]}),i})();var L=n(529),b=n(3144),F=n(5839),J=n(5593),S=n(1740),q=n(4401),I=n(2688);let k=(()=>{const r=class{};let i=r;return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[l.ez,N,a.UX,a.u5,L.JF,h.JX,b.U$,F.S,J.hJ,S.j,q.kW,I._8,v.D,Z.EV]}),i})()}}]);