"use strict";(self.webpackChunkfinance=self.webpackChunkfinance||[]).push([[282],{2282:(_,g,a)=>{a.r(g),a.d(g,{DebitVoucherModule:()=>F});var h=a(6895),p=a(4333),c=a(433),f=a(529),C=a(3144),U=a(5839),D=a(5593),y=a(1740),b=a(4401),Z=a(2688),v=a(2137),V=a(3887),l=a(9965),m=a(805),e=a(8256),q=a(828);let T=(()=>{const t=class{constructor(r){this.http=r,this.baseUrl=q.N.apiUrl+"/debitvoucher/"}getDebitVoucher(){return this.http.get(this.baseUrl+"getAll")}getDebitVoucherById(r){return this.http.get(this.baseUrl+"get/"+r)}insertDebitVoucher(r){return this.http.post(`${this.baseUrl}insert`,r)}updateDebitVoucher(r,i){return this.http.put(this.baseUrl+"update/"+r,i)}deleteDebitVoucher(r){return this.http.delete(`${this.baseUrl}delete/`+r)}};let o=t;return t.\u0275fac=function(i){return new(i||t)(e.LFG(f.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),o})();var A=a(8889);function x(o,t){if(1&o){const u=e.EpF();e.TgZ(0,"i",19),e.NdJ("click",function(){e.CHM(u);const i=e.oxw();return e.KtG(i.clearField("debitVoucherName"))}),e.qZA()}}function N(o,t){if(1&o){const u=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td",20)(20,"i",21),e.NdJ("click",function(){const n=e.CHM(u).$implicit,s=e.oxw();return e.KtG(s.editDebitVoucher(n))}),e.qZA(),e.TgZ(21,"i",22),e.NdJ("click",function(){const n=e.CHM(u).$implicit,s=e.oxw();return e.KtG(s.confirmdeleteDebitVoucher(n))}),e.qZA()()()}if(2&o){const u=t.$implicit,r=t.index,i=e.oxw();e.xp6(2),e.Oqu((i.page-1)*i.itemsPerPage+r+1),e.xp6(2),e.Oqu(u.name),e.xp6(2),e.Oqu(u.name),e.xp6(2),e.Oqu(u.name),e.xp6(2),e.Oqu(u.name),e.xp6(2),e.Oqu(u.name),e.xp6(2),e.Oqu(u.name),e.xp6(2),e.Oqu(u.name),e.xp6(2),e.Oqu(u.name)}}const w=function(o,t){return{itemsPerPage:o,currentPage:t}},L=[{path:"",component:(()=>{const t=class{constructor(r,i,n,s,d){this.formBuilder=r,this.router=i,this.debitVoucherService=n,this.toast=s,this.confirmationService=d,this.debitVoucherList=[],this.page=1,this.itemsPerPage=10,this.debitVoucherName=""}ngOnInit(){this.headervalue="Debit Voucher",this.debitVoucherService.getDebitVoucher().subscribe(r=>{this.debitVoucherList=r})}createDebitVoucher(){this.router.navigateByUrl("financial/debitvoucher/create")}editDebitVoucher(r){this.router.navigateByUrl(`financial/debitvoucher/edit/${r.id}`)}deleteDebitVoucher(r){this.debitVoucherService.deleteDebitVoucher(r.id).subscribe(i=>{this.toast.showSuccess("Debit Voucher Details deleted successfully"),this.ngOnInit()})}filterDebitVoucher(){this.debitVoucherService.getDebitVoucher().subscribe(r=>{this.filteredList=r,this.debitVoucherName&&(this.filteredList=this.filteredList.filter(i=>!this.debitVoucherName||i.name.toLowerCase().includes(this.debitVoucherName.toLowerCase()))),this.debitVoucherList=this.filteredList,this.page=1})}clearField(r){"debitVoucherName"===r&&(this.debitVoucherName=""),this.filterDebitVoucher()}confirmdeleteDebitVoucher(r){this.confirmationService.confirm({header:"Confirm Delete",message:"Are you sure you want to delete this item?",acceptLabel:"Delete",rejectLabel:"Cancel",rejectIcon:"pi pi-times",accept:()=>{this.deleteDebitVoucher(r)},reject:()=>{}})}};let o=t;return t.\u0275fac=function(i){return new(i||t)(e.Y36(c.qu),e.Y36(l.F0),e.Y36(T),e.Y36(A.k),e.Y36(m.YP))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-debit-voucher-list"]],features:[e._Bn([m.YP,m.ez])],decls:49,vars:10,consts:[[1,"page-header",2,"color","#2199e8"],[1,"page-content"],[2,"display","flex","flex-direction","row"],[1,"top-action-bar"],[1,"searchtop-container"],[1,"fa","fa-search","search-icon"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["class","fa fa-times clear-icon",3,"click",4,"ngIf"],[1,"searchtop-container",2,"margin-left","5px"],[1,"fa","fa-plus","icon",2,"color","#00a65a"],["type","text","placeholder","New Debit Voucher","readonly","",2,"width","180px","cursor","pointer",3,"click"],[1,"searchtop-container",2,"margin-left","2px"],[1,"fa","fa-sync","icon",2,"color","#01a1ff"],["type","text","readonly","",2,"width","20px","cursor","pointer"],[1,"fa","fa-columns","icon",2,"color","#01a1ff"],[2,"max-width","100%","overflow-x","auto"],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],[3,"pageChange"],[1,"fa","fa-times","clear-icon",3,"click"],[2,"padding-left","20px"],[1,"fas","fa-pen",2,"color","#05a743","margin-right","15px","cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"color","red","cursor","pointer",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"h5",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"i",5),e.TgZ(7,"input",6),e.NdJ("ngModelChange",function(d){return n.debitVoucherName=d})("input",function(){return n.filterDebitVoucher()}),e.qZA(),e.YNc(8,x,1,0,"i",7),e.qZA(),e.TgZ(9,"div",8),e._UZ(10,"i",9),e.TgZ(11,"input",10),e.NdJ("click",function(){return n.createDebitVoucher()}),e.qZA()(),e.TgZ(12,"div",11),e._UZ(13,"i",12)(14,"input",13),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"i",14)(17,"input",13),e.qZA()()(),e.TgZ(18,"div",15)(19,"table")(20,"thead")(21,"tr")(22,"th"),e._uU(23,"ID"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"V No"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"V Type"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Date"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Coa Head Name"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Coa"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Narration"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Debit"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Credit"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Action"),e.qZA()()(),e.TgZ(42,"tbody"),e.YNc(43,N,22,9,"tr",16),e.ALo(44,"paginate"),e.qZA()()(),e.TgZ(45,"div",17)(46,"pagination-controls",18),e.NdJ("pageChange",function(d){return n.page=d}),e.qZA()()(),e._UZ(47,"p-confirmDialog")(48,"p-toast")),2&i&&(e.xp6(1),e.Oqu(n.headervalue),e.xp6(6),e.Q6J("ngModel",n.debitVoucherName),e.xp6(1),e.Q6J("ngIf",n.debitVoucherName),e.xp6(35),e.Q6J("ngForOf",e.xi3(44,4,n.debitVoucherList,e.WLB(7,w,n.itemsPerPage,n.page))))},dependencies:[h.sg,h.O5,c.Fj,c.JJ,c.On,p.LS,v.Q,V.FN,p._s]}),o})()},{path:"create",component:(()=>{const t=class{constructor(r,i,n,s,d){this.fb=r,this.debitVoucherService=i,this.toast=n,this.route=s,this.router=d,this.displayDialog=!1,this.dialogMode="add",this.editIndex=null,this.isEditMode=!1,this.creditAccountHeadList=[{id:1,name:"Cash In Hand"},{id:2,name:"Cash At Bank"}],this.accountList=[{id:1,name:"Cash In Hand"},{id:2,name:"Cash At Bank"}]}ngOnInit(){this.route.paramMap.subscribe(r=>{this.debitVoucherId=parseInt(r.get("id")),this.debitVoucherId?(this.isEditMode=!0,this.debitVoucherService.getDebitVoucherById(this.debitVoucherId).subscribe(i=>{this.addForm=this.fb.group({date:new Date(i.date),creditAccountHeadId:[i.creditAccountHeadId],accountId:[i.accountId],amount:[i.amount],remark:[i.remark]})})):this.isEditMode=!1}),this.addForm=this.fb.group({date:[new Date,c.kI.required],creditAccountHeadId:[null,c.kI.required],accountId:[null,c.kI.required],amount:[null,c.kI.required],remark:[null,c.kI.required]})}onSubmit(){const r=this.addForm.getRawValue();this.addForm.invalid?this.toast.showWarning("Please Fill Mandatory Field"):this.isEditMode?this.debitVoucherService.updateDebitVoucher(Number(this.debitVoucherId),r).subscribe(i=>{this.toast.showSuccess("OpeningBalance updated successfully"),this.router.navigateByUrl("financial/debitvoucher")},i=>{this.toast.showError(i.error)}):this.debitVoucherService.insertDebitVoucher(r).subscribe(i=>{this.toast.showSuccess("OpeningBalance saved successfully"),this.router.navigateByUrl("financial/debitvoucher")},i=>{this.toast.showError(i.error)})}backButton(){this.router.navigateByUrl("financial/debitvoucher")}cancel(){this.router.navigateByUrl("financial/debitvoucher")}};let o=t;return t.\u0275fac=function(i){return new(i||t)(e.Y36(c.qu),e.Y36(T),e.Y36(A.k),e.Y36(l.gz),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-debit-voucher-create"]],features:[e._Bn([h.uU])],decls:54,vars:7,consts:[[1,"page-header",2,"color","#2199e8"],[1,"fas","fa-arrow-left",2,"padding","0px 25px","cursor","pointer",3,"click"],[1,"page-content-create"],[1,"container",3,"formGroup"],[1,"container","mt-5"],[1,"row"],[1,"col-sm-12"],[1,"form-group","d-flex","align-items-center","gap-2"],[1,"label",2,"white-space","nowrap","min-width","130px"],[2,"color","red"],[2,"width","320px"],["formControlName","date","dateFormat","dd-mm-yy","placeholder","Choose Date","styleClass","w-100","appendTo","body",3,"showIcon"],[1,"row","mt-3"],[1,"w-100"],["optionLabel","name","optionValue","id","formControlName","creditAccountHeadId","placeholder","Choose your Credit Account Head","styleClass","w-100","appendTo","body",3,"options","showClear"],["optionLabel","name","optionValue","id","formControlName","accountId","placeholder","Choose your Account","styleClass","w-100","appendTo","body",3,"options","showClear"],["type","number","formControlName","amount",1,"form-control","small-placeholder"],["type","text","formControlName","remark",1,"form-control","small-placeholder"],[1,"text-end","mt-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"h5",0)(1,"i",1),e.NdJ("click",function(){return n.backButton()}),e.qZA(),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"Date "),e.TgZ(11,"span",9),e._uU(12,"*"),e.qZA()(),e.TgZ(13,"div",10),e._UZ(14,"p-calendar",11),e.qZA()()()(),e.TgZ(15,"div",12)(16,"div",6)(17,"div",7)(18,"label",8),e._uU(19,"Credit Account Head "),e.TgZ(20,"span",9),e._uU(21,"*"),e.qZA()(),e.TgZ(22,"div",13),e._UZ(23,"p-dropdown",14),e.qZA()()()(),e.TgZ(24,"div",12)(25,"div",6)(26,"div",7)(27,"label",8),e._uU(28,"Account"),e.TgZ(29,"span",9),e._uU(30,"*"),e.qZA()(),e.TgZ(31,"div",13),e._UZ(32,"p-dropdown",15),e.qZA()()()(),e.TgZ(33,"div",12)(34,"div",6)(35,"div",7)(36,"label",8),e._uU(37,"Amount"),e.TgZ(38,"span",9),e._uU(39,"*"),e.qZA()(),e._UZ(40,"input",16),e.qZA()()(),e.TgZ(41,"div",12)(42,"div",6)(43,"div",7)(44,"label",8),e._uU(45,"Remark"),e.TgZ(46,"span",9),e._uU(47,"*"),e.qZA()(),e._UZ(48,"textarea",17),e.qZA()()(),e.TgZ(49,"div",18)(50,"button",19),e.NdJ("click",function(){return n.cancel()}),e._uU(51,"Cancel"),e.qZA(),e.TgZ(52,"button",20),e.NdJ("click",function(){return n.onSubmit()}),e._uU(53,"Save"),e.qZA()()()()()),2&i&&(e.xp6(2),e.hij(" ",n.isEditMode?"Edit Debit Voucher":"New Debit Voucher","\n"),e.xp6(2),e.Q6J("formGroup",n.addForm),e.xp6(10),e.Q6J("showIcon",!0),e.xp6(9),e.Q6J("options",n.creditAccountHeadList)("showClear",!0),e.xp6(9),e.Q6J("options",n.accountList)("showClear",!0))},dependencies:[c._Y,c.Fj,c.wV,c.JJ,c.JL,c.sg,c.u,b.Lt,Z.f]}),o})()}];let I=(()=>{const t=class{};let o=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.Bz.forChild(L),l.Bz]}),o})(),F=(()=>{const t=class{};let o=t;return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.ez,I,c.UX,c.u5,f.JF,p.JX,C.U$,U.S,D.hJ,y.j,b.kW,Z._8,v.D,V.EV]}),o})()}}]);