"use strict";(self.webpackChunkfinance=self.webpackChunkfinance||[]).push([[927],{1927:(z,g,a)=>{a.r(g),a.d(g,{SupplierModule:()=>E});var c=a(6895),h=a(4333),s=a(433),S=a(529),U=a(3144),A=a(5839),q=a(5593),I=a(1740),d=a(9965),m=a(805),e=a(8256),Z=a(719),f=a(8889),v=a(2137),C=a(3887);function x(n,o){if(1&n){const p=e.EpF();e.TgZ(0,"i",19),e.NdJ("click",function(){e.CHM(p);const t=e.oxw();return e.KtG(t.clearField("searchSupplierName"))}),e.qZA()}}function _(n,o){if(1&n){const p=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.TgZ(23,"td"),e._uU(24),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.TgZ(29,"td",20)(30,"i",21),e.NdJ("click",function(){const r=e.CHM(p).$implicit,l=e.oxw();return e.KtG(l.editSupplier(r))}),e.qZA(),e.TgZ(31,"i",22),e.NdJ("click",function(){const r=e.CHM(p).$implicit,l=e.oxw();return e.KtG(l.confirmdeleteSupplier(r))}),e.qZA()()()}if(2&n){const p=o.$implicit,i=o.index,t=e.oxw();e.xp6(2),e.Oqu((t.page-1)*t.itemsPerPage+i+1),e.xp6(2),e.Oqu(p.name),e.xp6(2),e.Oqu(p.contactName),e.xp6(2),e.Oqu(p.countryName),e.xp6(2),e.Oqu(p.stateName),e.xp6(2),e.Oqu(p.cityName),e.xp6(2),e.Oqu(p.address),e.xp6(2),e.Oqu(p.regionName),e.xp6(2),e.Oqu(p.supplierGroupName),e.xp6(2),e.Oqu(p.postalCode),e.xp6(2),e.Oqu(p.phone),e.xp6(2),e.Oqu(p.website),e.xp6(2),e.Oqu(p.fax),e.xp6(2),e.Oqu(p.email)}}const b=function(n,o){return{itemsPerPage:n,currentPage:o}};let N=(()=>{const o=class{constructor(i,t,r,l,u){this.formBuilder=i,this.router=t,this.supplierService=r,this.toast=l,this.confirmationService=u,this.supplierList=[],this.page=1,this.itemsPerPage=10,this.searchSupplierName=""}ngOnInit(){this.headervalue="Suppliers",this.supplierService.getSupplier().subscribe(i=>{this.supplierList=i})}createSupplier(){this.router.navigateByUrl("bp/supplier/create")}editSupplier(i){this.router.navigateByUrl(`bp/supplier/edit/${i.id}`)}deleteSupplier(i){this.supplierService.deleteSupplier(i.id).subscribe(t=>{this.toast.showSuccess("Supplier Details deleted successfully"),this.ngOnInit()})}filterSupplier(){this.supplierService.getSupplier().subscribe(i=>{this.filteredList=i,this.searchSupplierName&&(this.filteredList=this.filteredList?.filter(t=>!this.searchSupplierName||t.name.toLowerCase().includes(this.searchSupplierName.toLowerCase()))),this.supplierList=this.filteredList,this.page=1})}clearField(i){"searchSupplierName"===i&&(this.searchSupplierName=""),this.filterSupplier()}confirmdeleteSupplier(i){this.confirmationService.confirm({header:"Confirm Delete",message:"Are you sure you want to delete this item?",acceptLabel:"Delete",rejectLabel:"Cancel",rejectIcon:"pi pi-times",accept:()=>{this.deleteSupplier(i)},reject:()=>{}})}};let n=o;return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(d.F0),e.Y36(Z.p),e.Y36(f.k),e.Y36(m.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-supplier-list"]],features:[e._Bn([m.YP,m.ez])],decls:59,vars:10,consts:[[1,"page-header",2,"color","#2199e8"],[1,"page-content"],[2,"display","flex","flex-direction","row"],[1,"top-action-bar"],[1,"searchtop-container"],[1,"fa","fa-search","search-icon"],["type","text","placeholder","Search...",3,"ngModel","ngModelChange","input"],["class","fa fa-times clear-icon",3,"click",4,"ngIf"],[1,"searchtop-container",2,"margin-left","5px"],[1,"fa","fa-plus","icon",2,"color","#00a65a"],["type","text","placeholder","New Supplier","readonly","",2,"width","150px","cursor","pointer",3,"click"],[1,"searchtop-container",2,"margin-left","2px"],[1,"fa","fa-sync","icon",2,"color","#01a1ff"],["type","text","readonly","",2,"width","20px","cursor","pointer"],[1,"fa","fa-columns","icon",2,"color","#01a1ff"],[2,"max-width","100%","overflow-x","auto"],[4,"ngFor","ngForOf"],[2,"margin-top","10px"],[3,"pageChange"],[1,"fa","fa-times","clear-icon",3,"click"],[2,"padding-left","20px"],[1,"fas","fa-pen",2,"color","#05a743","margin-right","15px","cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"color","red","cursor","pointer",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"h5",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),e._UZ(6,"i",5),e.TgZ(7,"input",6),e.NdJ("ngModelChange",function(u){return r.searchSupplierName=u})("input",function(){return r.filterSupplier()}),e.qZA(),e.YNc(8,x,1,0,"i",7),e.qZA(),e.TgZ(9,"div",8),e._UZ(10,"i",9),e.TgZ(11,"input",10),e.NdJ("click",function(){return r.createSupplier()}),e.qZA()(),e.TgZ(12,"div",11),e._UZ(13,"i",12)(14,"input",13),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"i",14)(17,"input",13),e.qZA()()(),e.TgZ(18,"div",15)(19,"table")(20,"thead")(21,"tr")(22,"th"),e._uU(23,"ID"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Supplier Name"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Contact Name"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Country Name"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"State Name"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"City Name"),e.qZA(),e.TgZ(34,"th"),e._uU(35,"Address"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Region"),e.qZA(),e.TgZ(38,"th"),e._uU(39,"Supplier Group"),e.qZA(),e.TgZ(40,"th"),e._uU(41,"Postal Code"),e.qZA(),e.TgZ(42,"th"),e._uU(43,"Phone"),e.qZA(),e.TgZ(44,"th"),e._uU(45,"Website"),e.qZA(),e.TgZ(46,"th"),e._uU(47,"Fax"),e.qZA(),e.TgZ(48,"th"),e._uU(49,"Email"),e.qZA(),e.TgZ(50,"th"),e._uU(51,"Action"),e.qZA()()(),e.TgZ(52,"tbody"),e.YNc(53,_,32,14,"tr",16),e.ALo(54,"paginate"),e.qZA()()(),e.TgZ(55,"div",17)(56,"pagination-controls",18),e.NdJ("pageChange",function(u){return r.page=u}),e.qZA()()(),e._UZ(57,"p-confirmDialog")(58,"p-toast")),2&t&&(e.xp6(1),e.Oqu(r.headervalue),e.xp6(6),e.Q6J("ngModel",r.searchSupplierName),e.xp6(1),e.Q6J("ngIf",r.searchSupplierName),e.xp6(45),e.Q6J("ngForOf",e.xi3(54,4,r.supplierList,e.WLB(7,b,r.itemsPerPage,r.page))))},dependencies:[c.sg,c.O5,s.Fj,s.JJ,s.On,h.LS,v.Q,C.FN,h._s]}),n})();var L=a(6625),w=a(2669),F=a(8102),J=a(5772),k=a(5595),y=a(4401);function O(n,o){1&n&&(e.TgZ(0,"small"),e._uU(1,"Enter a valid email."),e.qZA())}function Y(n,o){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,O,2,0,"small",32),e.qZA()),2&n){const p=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=p.addForm.get("email"))||null==i.errors?null:i.errors.email)}}let T=(()=>{const o=class{constructor(i,t,r,l,u,M,Q,V,D,j){this.fb=i,this.router=t,this.stateService=r,this.toast=l,this.route=u,this.countryService=M,this.supplierService=Q,this.cityService=V,this.supplierGroupsService=D,this.regionService=j,this.displayDialog=!1,this.dialogMode="add",this.editIndex=null,this.isEditMode=!1}ngOnInit(){this.addForm=this.fb.group({name:[null,s.kI.required],contactName:[null],countryId:[null,s.kI.required],stateId:[null,s.kI.required],cityId:[null,s.kI.required],supplierGroupId:[null,s.kI.required],address:[null],regionId:[null,s.kI.required],postalCode:[null],phone:[null,s.kI.required],website:[null],fax:[null],email:[null]}),this.getCountry(),this.getState(),this.getCity(),this.getSupplierGroup(),this.getRegion(),this.route.paramMap.subscribe(i=>{this.supplierId=parseInt(i.get("id")),this.supplierId?(this.isEditMode=!0,this.supplierService.getSupplierById(this.supplierId).subscribe(t=>{this.addForm=this.fb.group({name:[t.name,s.kI.required],contactName:[t.contactName],countryId:[t.countryId,s.kI.required],stateId:[t.stateId,s.kI.required],cityId:[t.cityId,s.kI.required],supplierGroupId:[t.supplierGroupId,s.kI.required],address:[t.address],regionId:[t.regionId,s.kI.required],postalCode:[t.postalCode],phone:[t.phone,s.kI.required],website:[t.website],fax:[t.fax],email:[t.email]}),this.onCountryChange({value:t.countryId,stateId:t.stateId},!0),this.onStateChange({value:t.stateId,cityId:t.cityId},!0)})):this.isEditMode=!1})}getCountry(){this.countryService.getCountry().subscribe(i=>{this.countryList=i})}getState(){this.stateService.getState().subscribe(i=>{this.stateList=i})}getCity(){this.cityService.getCity().subscribe(i=>{this.cityList=i})}getSupplierGroup(){this.supplierGroupsService.getSupplierGroups().subscribe(i=>{this.supplierGroupsList=i})}getRegion(){this.regionService.getRegion().subscribe(i=>{this.regionList=i})}onCountryChange(i,t=!1){if(this.cityUpdatedList=[],this.stateUpdatedList=this.stateList?.filter(r=>r.countryId===i.value),t){const r=this.stateUpdatedList?.find(l=>l.stateId===i.stateId);this.addForm.patchValue({stateId:r?.stateId})}else this.addForm.patchValue({stateId:null,cityId:null})}onStateChange(i,t=!1){if(this.cityUpdatedList=this.cityList?.filter(r=>r.stateId===i.value),t){const r=this.cityUpdatedList?.find(l=>l.cityId===i.cityId);this.addForm.patchValue({cityId:r?.cityId})}else this.addForm.patchValue({cityId:null})}onSubmit(){const i=this.addForm.getRawValue();this.addForm.invalid?this.toast.showWarning("Please Fill Mandatory Field"):this.isEditMode?this.supplierService.updateSupplier(Number(this.supplierId),i).subscribe(t=>{this.toast.showSuccess("Supplier Details updated successfully"),this.router.navigateByUrl("bp/supplier")},t=>{this.toast.showApiError(t)}):this.supplierService.insertSupplier(i).subscribe(t=>{this.toast.showSuccess("Supplier Details saved successfully"),this.router.navigateByUrl("bp/supplier")},t=>{this.toast.showApiError(t)})}allowOnlyNumbers(i){/[0-9.]/.test(i.key)||i.preventDefault()}backButton(){this.router.navigateByUrl("bp/supplier")}cancel(){this.router.navigateByUrl("bp/supplier")}};let n=o;return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(d.F0),e.Y36(L.b),e.Y36(f.k),e.Y36(d.gz),e.Y36(w.T),e.Y36(Z.p),e.Y36(F.Z),e.Y36(J.P),e.Y36(k.o))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-supplier-create"]],decls:104,vars:13,consts:[[1,"page-header",2,"color","#2199e8"],[1,"fas","fa-arrow-left",2,"padding","0px 25px","cursor","pointer",3,"click"],[1,"page-content-create"],[1,"container","d-flex","flex-column",2,"min-height","100%",3,"formGroup"],[1,"flex-grow-1"],[1,"container","mt-5"],[1,"row"],[1,"col-sm-6"],[1,"form-group","d-flex","align-items-center","gap-2"],[1,"label",2,"white-space","nowrap","min-width","130px"],[2,"color","red"],["type","text","formControlName","name",1,"form-control","small-placeholder"],["type","text","formControlName","contactName",1,"form-control","small-placeholder"],[1,"row","mt-3"],[1,"w-100"],["optionLabel","countryName","optionValue","id","formControlName","countryId","placeholder","choose country","styleClass","w-100","appendTo","body",3,"options","showClear","onChange"],["optionLabel","stateName","optionValue","stateId","formControlName","stateId","placeholder","choose state","styleClass","w-100","appendTo","body",3,"options","showClear","onChange"],["optionLabel","cityName","optionValue","cityId","formControlName","cityId","placeholder","choose city","styleClass","w-100","appendTo","body",3,"options","showClear"],["optionLabel","name","optionValue","id","formControlName","supplierGroupId","placeholder","choose Suppliers Group","styleClass","w-100","appendTo","body",3,"options","showClear"],[1,"col-sm-12"],["type","text","formControlName","address",1,"form-control","small-placeholder"],["optionLabel","regionName","optionValue","id","formControlName","regionId","placeholder","choose region","styleClass","w-100","appendTo","body",3,"options","showClear"],["type","text","formControlName","postalCode",1,"form-control","small-placeholder"],["type","text","formControlName","phone",1,"form-control","small-placeholder",3,"keypress"],["type","text","formControlName","website",1,"form-control","small-placeholder"],["type","text","formControlName","fax",1,"form-control","small-placeholder"],["type","text","formControlName","email",1,"form-control","small-placeholder"],["class","text-danger text-end  mt-1","style","margin-left: 2px;",4,"ngIf"],[1,"text-end","mt-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"text-danger","text-end","mt-1",2,"margin-left","2px"],[4,"ngIf"]],template:function(t,r){if(1&t&&(e.TgZ(0,"h5",0)(1,"i",1),e.NdJ("click",function(){return r.backButton()}),e.qZA(),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label",9),e._uU(11,"Name "),e.TgZ(12,"span",10),e._uU(13,"*"),e.qZA()(),e._UZ(14,"input",11),e.qZA()(),e.TgZ(15,"div",7)(16,"div",8)(17,"label",9),e._uU(18,"Contact Name"),e.qZA(),e._UZ(19,"input",12),e.qZA()()(),e.TgZ(20,"div",13)(21,"div",7)(22,"div",8)(23,"label",9),e._uU(24,"Country"),e.TgZ(25,"span",10),e._uU(26,"*"),e.qZA()(),e.TgZ(27,"div",14)(28,"p-dropdown",15),e.NdJ("onChange",function(u){return r.onCountryChange(u)}),e.qZA()()()(),e.TgZ(29,"div",7)(30,"div",8)(31,"label",9),e._uU(32,"State"),e.TgZ(33,"span",10),e._uU(34,"*"),e.qZA()(),e.TgZ(35,"div",14)(36,"p-dropdown",16),e.NdJ("onChange",function(u){return r.onStateChange(u)}),e.qZA()()()()(),e.TgZ(37,"div",13)(38,"div",7)(39,"div",8)(40,"label",9),e._uU(41,"City"),e.TgZ(42,"span",10),e._uU(43,"*"),e.qZA()(),e.TgZ(44,"div",14),e._UZ(45,"p-dropdown",17),e.qZA()()(),e.TgZ(46,"div",7)(47,"div",8)(48,"label",9),e._uU(49,"Supplier Group"),e.TgZ(50,"span",10),e._uU(51,"*"),e.qZA()(),e.TgZ(52,"div",14),e._UZ(53,"p-dropdown",18),e.qZA()()()(),e.TgZ(54,"div",13)(55,"div",19)(56,"div",8)(57,"label",9),e._uU(58,"Address"),e.qZA(),e._UZ(59,"textarea",20),e.qZA()()(),e.TgZ(60,"div",13)(61,"div",7)(62,"div",8)(63,"label",9),e._uU(64,"Region"),e.TgZ(65,"span",10),e._uU(66,"*"),e.qZA()(),e.TgZ(67,"div",14),e._UZ(68,"p-dropdown",21),e.qZA()()(),e.TgZ(69,"div",7)(70,"div",8)(71,"label",9),e._uU(72,"Postal Code"),e.qZA(),e._UZ(73,"input",22),e.qZA()()(),e.TgZ(74,"div",13)(75,"div",7)(76,"div",8)(77,"label",9),e._uU(78,"Phone "),e.TgZ(79,"span",10),e._uU(80,"*"),e.qZA()(),e.TgZ(81,"input",23),e.NdJ("keypress",function(u){return r.allowOnlyNumbers(u)}),e.qZA()()(),e.TgZ(82,"div",7)(83,"div",8)(84,"label",9),e._uU(85,"Website"),e.qZA(),e._UZ(86,"input",24),e.qZA()()(),e.TgZ(87,"div",13)(88,"div",7)(89,"div",8)(90,"label",9),e._uU(91,"Fax"),e.qZA(),e._UZ(92,"input",25),e.qZA()(),e.TgZ(93,"div",7)(94,"div",8)(95,"label",9),e._uU(96,"Email"),e.qZA(),e._UZ(97,"input",26),e.qZA(),e.YNc(98,Y,2,1,"div",27),e.qZA()()()(),e.TgZ(99,"div",28)(100,"button",29),e.NdJ("click",function(){return r.cancel()}),e._uU(101,"Cancel"),e.qZA(),e.TgZ(102,"button",30),e.NdJ("click",function(){return r.onSubmit()}),e._uU(103,"Save"),e.qZA()()()()),2&t){let l;e.xp6(2),e.hij(" ",r.isEditMode?"Edit Supplier":"New Supplier","\n"),e.xp6(2),e.Q6J("formGroup",r.addForm),e.xp6(24),e.Q6J("options",r.countryList)("showClear",!0),e.xp6(8),e.Q6J("options",r.stateUpdatedList)("showClear",!0),e.xp6(9),e.Q6J("options",r.cityUpdatedList)("showClear",!0),e.xp6(8),e.Q6J("options",r.supplierGroupsList)("showClear",!0),e.xp6(15),e.Q6J("options",r.regionList)("showClear",!0),e.xp6(30),e.Q6J("ngIf",(null==(l=r.addForm.get("email"))?null:l.invalid)&&(null==(l=r.addForm.get("email"))?null:l.touched))}},dependencies:[c.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,y.Lt]}),n})();const G=[{path:"",component:N},{path:"create",component:T},{path:"edit/:id",component:T}];let P=(()=>{const o=class{};let n=o;return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.Bz.forChild(G),d.Bz]}),n})();var B=a(2688);let E=(()=>{const o=class{};let n=o;return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.ez,P,s.UX,s.u5,S.JF,h.JX,U.U$,A.S,q.hJ,I.j,y.kW,B._8,v.D,C.EV]}),n})()}}]);